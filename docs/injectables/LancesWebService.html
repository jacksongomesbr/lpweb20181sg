<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>lpweb20181sg documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">lpweb20181sg documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <nav>

    <ul class="list">

        <li class="title">
            <a href="index.html" data-type="index-link">lpweb20181sg documentation</a>
        </li>

        <li class="divider"></li>


        <li class="chapter">
            <a data-type="chapter-link" href="index.html"><span class="fa fa-home"></span>Getting started</a>
            <ul class="links">
                    <li class="link">
                        <a 
                            
                             href="overview.html" 
                             href="overview.html" 
                            data-type="chapter-link">
                            <span class="fa fa-fw fa-th"></span>Overview
                        </a>
                    </li>
                    <li class="link">
                      <a href="index.html" data-type="chapter-link"><span class="fa fa-file-text-o"></span>README</a>
                    </li>
                    <li class="link">
                        <a href="dependencies.html"
                            data-type="chapter-link">
                            <span class="fa fa-fw fa-list"></span>Dependencies
                        </a>
                    </li>
            </ul>
        </li>


        <li class="chapter modules">
            <a data-type="chapter-link" href="modules.html">
                <div class="menu-toggler linked" data-toggle="collapse"
                        data-target="#xs-modules-links"
                >
                    <span class="fa fa-fw fa-archive"></span>
                    <span class="link-name">Modules</span>
                    <span class="fa fa-angle-down"></span>
                </div>
            </a>
            <ul class="links collapse"
                    id="xs-modules-links"
                >
                    <li class="link">
                        <a href="modules/AppModule.html" data-type="entity-link">AppModule</a>
                            <li class="chapter inner">
                                <div class="simple menu-toggler" data-toggle="collapse"
                                        data-target="#xs-components-links-module-AppModule-1967518a3fcfc80198d0e33624a5105c"
                                    >
                                    <span class="fa fa-fw fa-cogs"></span>
                                    <span>Components</span>
                                    <span class="fa fa-angle-down"></span>
                                </div>
                                <ul class="links collapse"
                                        id="xs-components-links-module-AppModule-1967518a3fcfc80198d0e33624a5105c"
                                    >
                                        <li class="link">
                                            <a href="components/AppComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">AppComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/CabecalhoComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">CabecalhoComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/CadastrarPartidaComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">CadastrarPartidaComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/DetalhesPartidaComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">DetalhesPartidaComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/EstatisticasDePalpitesComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">EstatisticasDePalpitesComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/HomeComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">HomeComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/ListarPartidasComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">ListarPartidasComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/PalpiteDeGolsComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">PalpiteDeGolsComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/PalpiteDePlacarComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">PalpiteDePlacarComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/RodapeComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">RodapeComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/SobreComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">SobreComponent</a>
                                        </li>
                                </ul>
                            </li>
                            <li class="chapter inner">
                                <div class="simple menu-toggler" data-toggle="collapse"
                                        data-target="#xs-injectables-links-module-AppModule-1967518a3fcfc80198d0e33624a5105c"
                                    >
                                    <span class="fa fa-fw fa-long-arrow-down"></span>
                                    <span>Injectables</span>
                                    <span class="fa fa-angle-down"></span>
                                </div>
                                <ul class="links collapse"
                                        id="xs-injectables-links-module-AppModule-1967518a3fcfc80198d0e33624a5105c"
                                    >
                                        <li class="link">
                                            <a href="injectables/LancesWebService.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules"}>LancesWebService</a>
                                        </li>
                                </ul>
                            </li>
                    </li>
            </ul>
        </li>




                <li class="chapter">
                    <div class="simple menu-toggler" data-toggle="collapse"
                            data-target="#xs-injectables-links"
                        >
                        <span class="fa fa-fw fa-long-arrow-down"></span>
                        <span>Injectables</span>
                        <span class="fa fa-angle-down"></span>
                    </div>
                    <ul class="links collapse"
                            id="xs-injectables-links"
                        >
                            <li class="link">
                                <a href="injectables/LancesWebService.html" data-type="entity-link">LancesWebService</a>
                            </li>
                    </ul>
                </li>




        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#xs-miscellaneous-links"
                >
                <span class="fa fa-fw fa-cubes"></span>
                <span>Miscellaneous</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="xs-miscellaneous-links"
                >
                    <li class="link">
                      <a href="miscellaneous/variables.html" data-type="entity-link">Variables</a>
                    </li>
            </ul>
        </li>

            <li class="chapter">
                <a data-type="chapter-link" href="routes.html"><span class="fa fa-fw fa-code-fork"></span>Routes</a>
            </li>

        <li class="chapter">
            <a data-type="chapter-link" href="coverage.html"><span class="fa fa-fw fa-tasks"></span>Documentation coverage</a>
        </li>

        <li class="divider"></li>
        <li class="copyright">
                Documentation generated using <a href="https://compodoc.github.io/website/" target="_blank">
                            <img data-src="images/compodoc-vectorise.svg" class="img-responsive" data-type="compodoc-logo">
                </a>
        </li>

    </ul>

</nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>

    <ul class="list">

        <li class="title">
            <a href="index.html" data-type="index-link">lpweb20181sg documentation</a>
        </li>

        <li class="divider"></li>

            <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>

        <li class="chapter">
            <a data-type="chapter-link" href="index.html"><span class="fa fa-home"></span>Getting started</a>
            <ul class="links">
                    <li class="link">
                        <a 
                            
                             href="overview.html" 
                             href="overview.html" 
                            data-type="chapter-link">
                            <span class="fa fa-fw fa-th"></span>Overview
                        </a>
                    </li>
                    <li class="link">
                      <a href="index.html" data-type="chapter-link"><span class="fa fa-file-text-o"></span>README</a>
                    </li>
                    <li class="link">
                        <a href="dependencies.html"
                            data-type="chapter-link">
                            <span class="fa fa-fw fa-list"></span>Dependencies
                        </a>
                    </li>
            </ul>
        </li>


        <li class="chapter modules">
            <a data-type="chapter-link" href="modules.html">
                <div class="menu-toggler linked" data-toggle="collapse"
                        data-target="#modules-links"
                >
                    <span class="fa fa-fw fa-archive"></span>
                    <span class="link-name">Modules</span>
                    <span class="fa fa-angle-down"></span>
                </div>
            </a>
            <ul class="links collapse"
                    id="modules-links"
>
                    <li class="link">
                        <a href="modules/AppModule.html" data-type="entity-link">AppModule</a>
                            <li class="chapter inner">
                                <div class="simple menu-toggler" data-toggle="collapse"
                                        data-target="#components-links-module-AppModule-1967518a3fcfc80198d0e33624a5105c"
>
                                    <span class="fa fa-fw fa-cogs"></span>
                                    <span>Components</span>
                                    <span class="fa fa-angle-down"></span>
                                </div>
                                <ul class="links collapse"
                                        id="components-links-module-AppModule-1967518a3fcfc80198d0e33624a5105c"
>
                                        <li class="link">
                                            <a href="components/AppComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">AppComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/CabecalhoComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">CabecalhoComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/CadastrarPartidaComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">CadastrarPartidaComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/DetalhesPartidaComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">DetalhesPartidaComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/EstatisticasDePalpitesComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">EstatisticasDePalpitesComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/HomeComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">HomeComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/ListarPartidasComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">ListarPartidasComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/PalpiteDeGolsComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">PalpiteDeGolsComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/PalpiteDePlacarComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">PalpiteDePlacarComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/RodapeComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">RodapeComponent</a>
                                        </li>
                                        <li class="link">
                                            <a href="components/SobreComponent.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules">SobreComponent</a>
                                        </li>
                                </ul>
                            </li>
                            <li class="chapter inner">
                                <div class="simple menu-toggler" data-toggle="collapse"
                                        data-target="#injectables-links-module-AppModule-1967518a3fcfc80198d0e33624a5105c"
>
                                    <span class="fa fa-fw fa-long-arrow-down"></span>
                                    <span>Injectables</span>
                                    <span class="fa fa-angle-down"></span>
                                </div>
                                <ul class="links collapse"
                                        id="injectables-links-module-AppModule-1967518a3fcfc80198d0e33624a5105c"
>
                                        <li class="link">
                                            <a href="injectables/LancesWebService.html" data-type="entity-link" data-context="sub-entity" data-context-id="modules"}>LancesWebService</a>
                                        </li>
                                </ul>
                            </li>
                    </li>
            </ul>
        </li>




                <li class="chapter">
                    <div class="simple menu-toggler" data-toggle="collapse"
                            data-target="#injectables-links"
>
                        <span class="fa fa-fw fa-long-arrow-down"></span>
                        <span>Injectables</span>
                        <span class="fa fa-angle-down"></span>
                    </div>
                    <ul class="links collapse"
                            id="injectables-links"
>
                            <li class="link">
                                <a href="injectables/LancesWebService.html" data-type="entity-link">LancesWebService</a>
                            </li>
                    </ul>
                </li>




        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#miscellaneous-links"
>
                <span class="fa fa-fw fa-cubes"></span>
                <span>Miscellaneous</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="miscellaneous-links"
>
                    <li class="link">
                      <a href="miscellaneous/variables.html" data-type="entity-link">Variables</a>
                    </li>
            </ul>
        </li>

            <li class="chapter">
                <a data-type="chapter-link" href="routes.html"><span class="fa fa-fw fa-code-fork"></span>Routes</a>
            </li>

        <li class="chapter">
            <a data-type="chapter-link" href="coverage.html"><span class="fa fa-fw fa-tasks"></span>Documentation coverage</a>
        </li>

        <li class="divider"></li>
        <li class="copyright">
                Documentation generated using <a href="https://compodoc.github.io/website/" target="_blank">
                            <img data-src="images/compodoc-vectorise.svg" class="img-responsive" data-type="compodoc-logo">
                </a>
        </li>

    </ul>

</nav>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">






<ol class="breadcrumb">
  <li>Injectables</li>
  <li>LancesWebService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/lances-web.service.ts</code>
        </p>



            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#dadosUrl">dadosUrl</a>
                            </li>
                            <li>
                                <a href="#lskey">lskey</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addPalpiteDeGols">addPalpiteDeGols</a>
                            </li>
                            <li>
                                <a href="#addPalpiteDePlacar">addPalpiteDePlacar</a>
                            </li>
                            <li>
                                <a href="#addPartida">addPartida</a>
                            </li>
                            <li>
                                <a href="#getDados">getDados</a>
                            </li>
                            <li>
                                <a href="#getJogadores">getJogadores</a>
                            </li>
                            <li>
                                <a href="#getPartida">getPartida</a>
                            </li>
                            <li>
                                <a href="#getPartidas">getPartidas</a>
                            </li>
                            <li>
                                <a href="#getTimes">getTimes</a>
                            </li>
                            <li>
                                <a href="#setDados">setDados</a>
                            </li>
                            <li>
                                <a href="#setupDadosOnStorage">setupDadosOnStorage</a>
                            </li>
                            <li>
                                <a href="#setupInitialData">setupInitialData</a>
                            </li>
                            <li>
                                <a href="#updateStatistics">updateStatistics</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(http: <a href="https://angular.io/api/common/http/HttpClient" target="_blank">HttpClient</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/lances-web.service.ts:18</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Injeta uma instância de <code>HttpClient</code> e executa o método <a href="../injectables/LancesWebService.html#setupInitialData"><code>setupInitialData</code></a></p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/common/http/HttpClient" target="_blank" >HttpClient</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Uma instância de <code>HttpClient</code> utilizada para carregar os dados iniciais</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="addPalpiteDeGols"></a>
                        <span class="name">
                            <b>
                            addPalpiteDeGols
                            </b>
                            <a href="#addPalpiteDeGols"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>addPalpiteDeGols(usuario: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, partidaId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, jogador: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, gols: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="275" class="link-to-prism">src/app/lances-web.service.ts:275</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Salva os dados de um palpite de quantidade de gols de um jogador, criando um objeto com os atributos:</p>
<ul>
<li><code>tipo</code>: o tipo do palpite, nesse caso, com o valor <code>&#39;gols&#39;</code></li>
<li><code>usuario</code>: o nome do usuário (valor do parâmetro <code>usuario</code>)</li>
<li><code>gols</code>: o número de gols (valor do parâmetro <code>gols</code>)</li>
<li><code>jogador</code>: o identificador do jogador (valor do parâmetro <code>jogador</code>)</li>
<li><code>correto</code>: um <code>boolean</code> que indica se o palpite está correto ou não</li>
</ul>
<p>O código também verifica se o palpite está correto. Para isso encontra os lances da partida
que sejam do tipo <code>Gol</code> e do jogador conforme o parâmetro <code>jogador</code>. Se a quantidade de gols
(parâmetro <code>gols</code>) estiver de acordo com a quantidade de lances encontrados, então o palpite está correto.</p>
<p>Por fim, o código atualiza os dados do LocalStorage e também as estatísticas executando,
respectivamente, os métodos <a href="../injectables/LancesWebService.html#setDados"><code>setDados</code></a> e
<a href="../injectables/LancesWebService.html#updateStatistics"><code>updateStatistics</code></a>.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>usuario</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O nome do usuário</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>partidaId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O identificador da partida</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>jogador</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O identificador do jogador</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>gols</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>A quantidade de gols</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                            </div>
                                <div class="io-description">
                                    <p><code>True</code>, se o palpite está correto ou <code>False</code>, caso contrário</p>

                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="addPalpiteDePlacar"></a>
                        <span class="name">
                            <b>
                            addPalpiteDePlacar
                            </b>
                            <a href="#addPalpiteDePlacar"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>addPalpiteDePlacar(usuario: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, partidaId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, golsDoMandante: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, golsDoVisitante: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="238" class="link-to-prism">src/app/lances-web.service.ts:238</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Salva os dados de um palpite de placar, criando um objeto com os atributos:</p>
<ul>
<li><code>tipo</code>: o tipo do palpite, nesse caso, com o valor <code>&#39;placar&#39;</code></li>
<li><code>usuario</code>: o nome do usuário (valor do parâmetro <code>usuario</code>)</li>
<li><code>mandante</code>: o número de gols do mandante (valor do parâmetro <code>golsDoMandante</code>)</li>
<li><code>visitante</code>: o número de gols do visitante (valor do parâmetro <code>golsDoVisitante</code>)</li>
<li><code>correto</code>: um <code>boolean</code> que indica se o palpite está correto ou não</li>
</ul>
<p>O código também verifica se o palpite está correto. Para isso utiliza os
parâmetros <code>golsDoMandante</code> e <code>golsDoVisitante</code> e os compara com o placar da partida.</p>
<p>Por fim, o código atualiza os dados do LocalStorage e também as estatísticas executando,
respectivamente, os métodos <a href="../injectables/LancesWebService.html#setDados"><code>setDados</code></a> e
<a href="../injectables/LancesWebService.html#updateStatistics"><code>updateStatistics</code></a>.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>usuario</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O nome do usuário</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>partidaId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O identificador da partida</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>golsDoMandante</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O número de gols do mandante</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>golsDoVisitante</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O número de gols do visitante</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                            </div>
                                <div class="io-description">
                                    <p><code>True</code>, se o palpite está correto ou <code>False</code>, caso contrário</p>

                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="addPartida"></a>
                        <span class="name">
                            <b>
                            addPartida
                            </b>
                            <a href="#addPartida"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>addPartida(data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, horario: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, mandanteId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, visitanteId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="178" class="link-to-prism">src/app/lances-web.service.ts:178</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Salva os dados de uma partida.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>data</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>A data da partida</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>horario</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O horário da partida</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>mandanteId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O identificador do time mandante</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>visitanteId</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O identificador do time visitante</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getDados"></a>
                        <span class="name">
                            <b>
                            getDados
                            </b>
                            <a href="#getDados"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>getDados()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="116" class="link-to-prism">src/app/lances-web.service.ts:116</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Retorna os dados armazenados no LocalStorage utilizando a chave <code>lskey</code>.</p>
</div>

                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getJogadores"></a>
                        <span class="name">
                            <b>
                            getJogadores
                            </b>
                            <a href="#getJogadores"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>getJogadores()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="305" class="link-to-prism">src/app/lances-web.service.ts:305</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Retorna os jogadores</p>
</div>

                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    <p>A lista dos jogadores</p>

                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPartida"></a>
                        <span class="name">
                            <b>
                            getPartida
                            </b>
                            <a href="#getPartida"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>getPartida(id: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="200" class="link-to-prism">src/app/lances-web.service.ts:200</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Encontra e retorna uma partida com base no identificador <code>id</code>.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>id</td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>O identificador da partida</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPartidas"></a>
                        <span class="name">
                            <b>
                            getPartidas
                            </b>
                            <a href="#getPartidas"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>getPartidas()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="211" class="link-to-prism">src/app/lances-web.service.ts:211</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Retorna as partidas.</p>
</div>

                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getTimes"></a>
                        <span class="name">
                            <b>
                            getTimes
                            </b>
                            <a href="#getTimes"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>getTimes()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="295" class="link-to-prism">src/app/lances-web.service.ts:295</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Retorna os times.</p>
</div>

                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    <p>A lista dos times</p>

                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="setDados"></a>
                        <span class="name">
                            <b>
                            setDados
                            </b>
                            <a href="#setDados"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>setDados(dados: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="166" class="link-to-prism">src/app/lances-web.service.ts:166</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Converte <code>dados</code> para string JSON e os armazena no LocalStorage.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>dados</td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Os dados a serem armazenados no LocalStorage</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="setupDadosOnStorage"></a>
                        <span class="name">
                            <b>
                            setupDadosOnStorage
                            </b>
                            <a href="#setupDadosOnStorage"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>setupDadosOnStorage(dados: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">src/app/lances-web.service.ts:68</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Analisa <code>dados</code> e (re)cria uma estrutura preparada para o funcionamento do software:</p>
<ol>
<li>para cada time, obtém os identificadores dos jogadores e recria o atributo <code>jogadores</code> com objetos correspondentes</li>
<li>para cada partida:<ol>
<li>utiliza os identificadores do mandante e do visitante para obter os objetos correspondentes</li>
<li>inicia o <code>placar</code> com zero (para mandante e visitante)</li>
<li>inicia o array <code>palpites</code> (vazio)</li>
<li>para cada lance, utiliza o identificador do jogador para obter o objeto correspondente</li>
<li>para cada lance, se for do tipo &quot;Gol&quot;, atualiza o placar</li>
<li>inicia as estatísticas</li>
</ol>
</li>
</ol>
<p>Este método faz bastante uso do método {@link Array#find}</p>
<p><em>Importante</em>: este método deve ser chamado apenas uma vez.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>dados</td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Os dados que devem ser analisados</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="setupInitialData"></a>
                        <span class="name">
                            <b>
                            setupInitialData
                            </b>
                            <a href="#setupInitialData"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>setupInitialData(fn: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/lances-web.service.ts:36</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Verifica se há dados no LocalStorage e, quando não houver, carrega dados iniciais
declarados no arquivo <code>assets/dados.json</code>. Quando terminar de carregar os dados
executa o método <a href="../injectables/LancesWebService.html#setupDadosOnStorage"><code>setupDadosOnStorage</code></a> e
a função <code>fn</code>, se definida.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>fn</td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Uma função callback para ser chamada quando concluir o processo de carregar os dados</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="updateStatistics"></a>
                        <span class="name">
                            <b>
                            updateStatistics
                            </b>
                            <a href="#updateStatistics"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>updateStatistics()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="129" class="link-to-prism">src/app/lances-web.service.ts:129</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Atualiza as estatísticas das partidas e armazena os dados novamente no LocalStorage
executando o método <a href="../injectables/LancesWebService.html#setDados"><code>setDados</code></a>.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dadosUrl"></a>
                        <span class="name">
                            <b>
                            dadosUrl
                            </b>
                            <a href="#dadosUrl"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>dadosUrl:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;assets/dados.json&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">src/app/lances-web.service.ts:12</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>O caminho para o arquivo dos dados iniciais</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="lskey"></a>
                        <span class="name">
                            <b>
                            lskey
                            </b>
                            <a href="#lskey"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>lskey:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;lancesweb-dados&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/lances-web.service.ts:18</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>O nome da chave para os dados no LocalStorage</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {Injectable} from &#x27;@angular/core&#x27;;
import {HttpClient} from &#x27;@angular/common/http&#x27;;

@Injectable({
  providedIn: &#x27;root&#x27;
})
export class LancesWebService {
  /**
   * O caminho para o arquivo dos dados iniciais
   * @type {string}
   */
  dadosUrl &#x3D; &#x27;assets/dados.json&#x27;;

  /**
   * O nome da chave para os dados no LocalStorage
   * @type {string}
   */
  lskey &#x3D; &#x27;lancesweb-dados&#x27;;

  /**
   * Injeta uma instância de &#x60;HttpClient&#x60; e executa o método [&#x60;setupInitialData&#x60;]{@link LancesWebService#setupInitialData}
   * @param {HttpClient} http Uma instância de &#x60;HttpClient&#x60; utilizada para carregar os dados iniciais
   */
  constructor(private http: HttpClient) {
    this.setupInitialData();
  }

  /**
   * Verifica se há dados no LocalStorage e, quando não houver, carrega dados iniciais
   * declarados no arquivo &#x60;assets/dados.json&#x60;. Quando terminar de carregar os dados
   * executa o método [&#x60;setupDadosOnStorage&#x60;]{@link LancesWebService#setupDadosOnStorage} e
   * a função &#x60;fn&#x60;, se definida.
   *
   * @param fn Uma função callback para ser chamada quando concluir o processo de carregar os dados
   */
  setupInitialData(fn) {
    if (!localStorage.getItem(this.lskey)) {
      this.http.get(this.dadosUrl).subscribe(retorno &#x3D;&gt; {
        this.setupDadosOnStorage(retorno);
        if (fn) {
          fn();
        }
      });
    } else {
      if (fn) {
        fn();
      }
    }
  }

  /**
   * Analisa &#x60;dados&#x60; e (re)cria uma estrutura preparada para o funcionamento do software:
   * 1. para cada time, obtém os identificadores dos jogadores e recria o atributo &#x60;jogadores&#x60; com objetos correspondentes
   * 2. para cada partida:
   *  1. utiliza os identificadores do mandante e do visitante para obter os objetos correspondentes
   *  2. inicia o &#x60;placar&#x60; com zero (para mandante e visitante)
   *  3. inicia o array &#x60;palpites&#x60; (vazio)
   *  4. para cada lance, utiliza o identificador do jogador para obter o objeto correspondente
   *  5. para cada lance, se for do tipo &quot;Gol&quot;, atualiza o placar
   *  6. inicia as estatísticas
   *
   * Este método faz bastante uso do método {@link Array#find}
   *
   * *Importante*: este método deve ser chamado apenas uma vez.
   *
   * @param dados Os dados que devem ser analisados
   */
  setupDadosOnStorage(dados) {
    for (let time of dados.times) {
      let jogadores &#x3D; [];
      for (const jogadorId of time.jogadores) {
        jogadores.push(dados.jogadores.find(jogador &#x3D;&gt; jogador.id &#x3D;&#x3D;&#x3D; jogadorId));
      }
      time.jogadores &#x3D; jogadores;
    }
    for (let partida of dados.partidas) {
      partida.mandante &#x3D; dados.times.find(time &#x3D;&gt; time.id &#x3D;&#x3D;&#x3D; partida.mandanteId);
      partida.visitante &#x3D; dados.times.find(time &#x3D;&gt; time.id &#x3D;&#x3D;&#x3D; partida.visitanteId);
      partida.placar &#x3D; {
        &#x27;mandante&#x27;: 0,
        &#x27;visitante&#x27;: 0
      };
      if (!partida.palpites) {
        partida.palpites &#x3D; [];
      }
      for (let lance of partida.lances) {
        lance.jogador &#x3D; dados.jogadores.find(jogador &#x3D;&gt; jogador.id &#x3D;&#x3D;&#x3D; lance.jogadorId);
      }
      for (let lance of partida.lances) {
        if (lance.tipo &#x3D;&#x3D;&#x3D; &#x27;Gol&#x27;) {
          if (lance.jogador.timeId &#x3D;&#x3D;&#x3D; partida.mandanteId) {
            partida.placar.mandante++;
          }
          if (lance.jogador.timeId &#x3D;&#x3D;&#x3D; partida.visitanteId) {
            partida.placar.visitante++;
          }
        }
      }
      partida.estatisticas &#x3D; {
        quantidadeDePalpites: 0,
        quantidadeDePalpitesCorretos: 0,
        quantidadeDePalpitesIncorretos: 0,
        porcentagemDePalpitesCorretos: 0,
        porcentagemDePalpitesIncorretos: 0,
        usuarioTop: null
      };
    }
    this.setDados(dados);
  }

  /**
   * Retorna os dados armazenados no LocalStorage utilizando a chave &#x60;lskey&#x60;.
   *
   * @returns {any}
   */
  getDados() {
    let dados &#x3D; null;
    const ls &#x3D; localStorage.getItem(this.lskey);
    if (ls) {
      dados &#x3D; JSON.parse(ls);
    }
    return dados;
  }

  /**
   * Atualiza as estatísticas das partidas e armazena os dados novamente no LocalStorage
   * executando o método [&#x60;setDados&#x60;]{@link LancesWebService#setDados}.
   */
  updateStatistics() {
    let dados &#x3D; this.getDados();
    for (let partida of dados.partidas) {
      let contador_usuarios &#x3D; {};
      for (const palpite of partida.palpites) {
        if (!contador_usuarios[palpite.usuario]) {
          contador_usuarios[palpite.usuario] &#x3D; 0;
        }
        partida.estatisticas.quantidadeDePalpites++;
        if (palpite.correto) {
          partida.estatisticas.quantidadeDePalpitesCorretos++;
          contador_usuarios[palpite.usuario]++;
        } else {
          partida.estatisticas.quantidadeDePalpitesIncorretos++;
        }
      }
      if (partida.estatisticas.quantidadeDePalpites) {
        partida.estatisticas.porcentagemDePalpitesCorretos &#x3D; partida.estatisticas.quantidadeDePalpitesCorretos / partida.estatisticas.quantidadeDePalpites;
        partida.estatisticas.porcentagemDePalpitesIncorretos &#x3D; 1 - partida.estatisticas.porcentagemDePalpitesCorretos;
      }
      let m &#x3D; 0;
      for (const usuario in contador_usuarios) {
        const n &#x3D; contador_usuarios[usuario];
        if (n &gt;&#x3D; m) {
          m &#x3D; n;
          partida.estatisticas.usuarioTop &#x3D; usuario;
        }
      }
    }
    this.setDados(dados);
  }

  /**
   * Converte &#x60;dados&#x60; para string JSON e os armazena no LocalStorage.
   *
   * @param dados Os dados a serem armazenados no LocalStorage
   */
  setDados(dados) {
    localStorage.setItem(this.lskey, JSON.stringify(dados));
  }

  /**
   * Salva os dados de uma partida.
   *
   * @param data A data da partida
   * @param horario O horário da partida
   * @param mandanteId O identificador do time mandante
   * @param visitanteId O identificador do time visitante
   */
  addPartida(data: string, horario: string, mandanteId: number, visitanteId: number) {
    let dados &#x3D; this.getDados();
    const partida &#x3D; {
      &#x27;id&#x27;: dados.partidas.length + 1,
      &#x27;data&#x27;: data,
      &#x27;horario&#x27;: horario,
      &#x27;mandanteId&#x27;: mandanteId,
      &#x27;visitanteId&#x27;: visitanteId,
      &#x27;mandante&#x27;: dados.times.find(time &#x3D;&gt; time.id &#x3D;&#x3D;&#x3D; mandanteId),
      &#x27;visitante&#x27;: dados.times.find(time &#x3D;&gt; time.id &#x3D;&#x3D;&#x3D; visitanteId)
    };

    dados.partidas.push(partida);
    this.setDados(dados);
  }

  /**
   * Encontra e retorna uma partida com base no identificador &#x60;id&#x60;.
   *
   * @param {number} id O identificador da partida
   * @returns {any}
   */
  getPartida(id) {
    const dados &#x3D; this.getDados();
    const partida &#x3D; dados.partidas.find(p &#x3D;&gt; p.id &#x3D;&#x3D; id);
    return partida;
  }

  /**
   * Retorna as partidas.
   *
   * @returns {any}
   */
  getPartidas() {
    const dados &#x3D; this.getDados();
    return dados.partidas;
  }

  /**
   * Salva os dados de um palpite de placar, criando um objeto com os atributos:
   *
   * * &#x60;tipo&#x60;: o tipo do palpite, nesse caso, com o valor &#x60;&#x27;placar&#x27;&#x60;
   * * &#x60;usuario&#x60;: o nome do usuário (valor do parâmetro &#x60;usuario&#x60;)
   * * &#x60;mandante&#x60;: o número de gols do mandante (valor do parâmetro &#x60;golsDoMandante&#x60;)
   * * &#x60;visitante&#x60;: o número de gols do visitante (valor do parâmetro &#x60;golsDoVisitante&#x60;)
   * * &#x60;correto&#x60;: um &#x60;boolean&#x60; que indica se o palpite está correto ou não
   *
   * O código também verifica se o palpite está correto. Para isso utiliza os
   * parâmetros &#x60;golsDoMandante&#x60; e &#x60;golsDoVisitante&#x60; e os compara com o placar da partida.
   *
   * Por fim, o código atualiza os dados do LocalStorage e também as estatísticas executando,
   * respectivamente, os métodos [&#x60;setDados&#x60;]{@link LancesWebService#setDados} e
   * [&#x60;updateStatistics&#x60;]{@link LancesWebService#updateStatistics}.
   *
   * @param usuario O nome do usuário
   * @param partidaId O identificador da partida
   * @param golsDoMandante O número de gols do mandante
   * @param golsDoVisitante O número de gols do visitante
   * @returns {boolean} &#x60;True&#x60;, se o palpite está correto ou &#x60;False&#x60;, caso contrário
   */
  addPalpiteDePlacar(usuario: string, partidaId: number, golsDoMandante: number, golsDoVisitante: number) {
    let dados &#x3D; this.getDados();
    let partida &#x3D; dados.partidas.find(p &#x3D;&gt; p.id &#x3D;&#x3D;&#x3D; partidaId);
    let correto &#x3D; false;
    if (golsDoMandante &#x3D;&#x3D;&#x3D; partida.placar.mandante &amp;&amp; golsDoVisitante &#x3D;&#x3D;&#x3D; partida.placar.visitante) {
      correto &#x3D; true;
    }
    const palpite &#x3D; {tipo: &#x27;placar&#x27;, usuario: usuario, mandante: golsDoMandante, visitante: golsDoVisitante, correto: correto};
    partida.palpites.push(palpite);
    this.setDados(dados);
    this.updateStatistics();
    return correto;
  }

  /**
   * Salva os dados de um palpite de quantidade de gols de um jogador, criando um objeto com os atributos:
   *
   * * &#x60;tipo&#x60;: o tipo do palpite, nesse caso, com o valor &#x60;&#x27;gols&#x27;&#x60;
   * * &#x60;usuario&#x60;: o nome do usuário (valor do parâmetro &#x60;usuario&#x60;)
   * * &#x60;gols&#x60;: o número de gols (valor do parâmetro &#x60;gols&#x60;)
   * * &#x60;jogador&#x60;: o identificador do jogador (valor do parâmetro &#x60;jogador&#x60;)
   * * &#x60;correto&#x60;: um &#x60;boolean&#x60; que indica se o palpite está correto ou não
   *
   * O código também verifica se o palpite está correto. Para isso encontra os lances da partida
   * que sejam do tipo &#x60;Gol&#x60; e do jogador conforme o parâmetro &#x60;jogador&#x60;. Se a quantidade de gols
   * (parâmetro &#x60;gols&#x60;) estiver de acordo com a quantidade de lances encontrados, então o palpite está correto.
   *
   * Por fim, o código atualiza os dados do LocalStorage e também as estatísticas executando,
   * respectivamente, os métodos [&#x60;setDados&#x60;]{@link LancesWebService#setDados} e
   * [&#x60;updateStatistics&#x60;]{@link LancesWebService#updateStatistics}.
   *
   * @param usuario O nome do usuário
   * @param partidaId O identificador da partida
   * @param jogador O identificador do jogador
   * @param gols A quantidade de gols
   * @returns {boolean} &#x60;True&#x60;, se o palpite está correto ou &#x60;False&#x60;, caso contrário
   */
  addPalpiteDeGols(usuario: string, partidaId: number, jogador: number, gols: number) {
    let dados &#x3D; this.getDados();
    let partida &#x3D; dados.partidas.find(p &#x3D;&gt; p.id &#x3D;&#x3D;&#x3D; partidaId);
    let gols_do_jogador &#x3D; partida.lances.filter(lance &#x3D;&gt; lance.tipo &#x3D;&#x3D;&#x3D; &#x27;Gol&#x27; &amp;&amp; lance.jogadorId &#x3D;&#x3D;&#x3D; jogador).length;
    let correto &#x3D; false;
    if (gols &#x3D;&#x3D;&#x3D; gols_do_jogador) {
      correto &#x3D; true;
    }
    const palpite &#x3D; {tipo: &#x27;gols&#x27;, usuario: usuario, gols: gols, jogador: jogador, correto: correto};
    partida.palpites.push(palpite);
    this.setDados(dados);
    this.updateStatistics();
    return correto;
  }

  /**
   * Retorna os times.
   *
   * @returns {Array} A lista dos times
   */
  getTimes() {
    const dados &#x3D; this.getDados();
    return dados.times;
  }

  /**
   * Retorna os jogadores
   *
   * @returns {Array} A lista dos jogadores
   */
  getJogadores() {
    const dados &#x3D; this.getDados();
    return dados.jogadores;
  }

}
</code></pre>
    </div>

</div>









                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

        <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'LancesWebService.html';
        </script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
       <script src="../js/search/search_index.js"></script>


    </body>
</html>
